jQuery(document).ready(function($){var tstatsSettingsURLHash=window.location.hash;function updateInputAllPlugins(){var fullyActivePluginsCount=$('#tstats-table-plugins tbody tr.active[data-subprojects="4"]').length,avaliablePluginsCount=$("#tstats-table-plugins tbody tr:not(.disabled)").length;0!==avaliablePluginsCount&&(fullyActivePluginsCount===avaliablePluginsCount?$("input#all_plugins").prop({checked:!0}).attr("data-plugins","all"):0===fullyActivePluginsCount?$("input#all_plugins").prop({checked:!1}).attr("data-plugins","none"):$("input#all_plugins").prop({checked:!1}).attr("data-plugins","indeterminate"))}(tstatsSettingsURLHash=tstatsSettingsURLHash||"#plugins")&&($(".nav-tab-wrapper").children().removeClass("nav-tab-active"),$('.nav-tab-wrapper a[href="'+tstatsSettingsURLHash+'"]').addClass("nav-tab-active"),$(".tabs-content form").children(".tab-content").addClass("hidden"),$(".tabs-content form div"+tstatsSettingsURLHash.replace("#","#tab-")).removeClass("hidden")),$("#tstats-table-plugins").tablesorter({sortList:[[1,0]],sortRestart:!0,sortInitialOrder:"asc",widgets:["filter"],widgetOptions:{filter_external:"#plugins-search-input",filter_columnFilters:!1,filter_saveFilters:!1,filter_reset:"#plugins-search-reset"}}),$(".tstats-settings__content > .nav-tab-wrapper a").on("click",function(){var tstatsActiveTabContentID=$(this).attr("href").replace("#","#tab-");$(this).parent().children().removeClass("nav-tab-active"),$(this).addClass("nav-tab-active"),$(".tabs-content form").children(".tab-content").addClass("hidden"),$(".tabs-content form div"+tstatsActiveTabContentID).removeClass("hidden")}),$(".tstats-settings__content #all_plugins").on("click",function(){$(".tstats-plugin-list-table input#all_plugins").prop("checked")?($(".tstats-plugin-list-table tr.inactive").addClass("active").removeClass("inactive"),$("input.checkbox-plugin").prop({indeterminate:!1,checked:!0})):$(".tstats-plugin-list-table tr.active").addClass("inactive").removeClass("active")}),$(".tstats-settings__content input.checkbox-plugin").on("click",function(){var pluginSubprojectsCount={},pluginSubprojectsTotal={},id=$(event.target).attr("id");pluginSubprojectsCount[id]=$("input."+id+":checked").length,pluginSubprojectsTotal[id]=$("input."+id).length,pluginSubprojectsCount[id]===pluginSubprojectsTotal[id]?($("input."+id).parents("tr").addClass("inactive").removeClass("active"),$("input."+id).prop("checked",!1)):($("input."+id).parents("tr").addClass("active").removeClass("inactive"),$("input#"+id).prop("checked",!0),$("input."+id).prop("checked",!0));updateInputAllPlugins()}),$(".tstats-settings__content input.checkbox-subproject").on("click",function(){var pluginSubprojectsCount={},pluginSubprojectsTotal={},id=$(event.target).attr("class").substring("checkbox-subproject ".length);switch(pluginSubprojectsCount=$("input."+id+":checked").length,$("input."+id).parents("tr").attr("data-subprojects",pluginSubprojectsCount),pluginSubprojectsTotal=$("input."+id).length,pluginSubprojectsCount){case pluginSubprojectsTotal:$("input."+id).parents("tr").addClass("active").removeClass("inactive"),$("input#"+id).prop({checked:!0});break;case 0:$("input."+id).parents("tr").addClass("inactive").removeClass("active"),$("input#"+id).prop({checked:!1});break;default:$("input."+id).parents("tr").addClass("active").removeClass("inactive"),$("input#"+id).prop({checked:!0})}updateInputAllPlugins()}),$(".tablesorter-header:not(.sorter-false)").on("mouseup",function(){$(this).blur()})});